<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Git on DenysG的个人博客</title>
    <link>https://48474.com/tags/git/index.xml</link>
    <description>Recent content in Git on DenysG的个人博客</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>© 2016 135Get_Team. All rights reserved.</copyright>
    <atom:link href="https://48474.com/tags/git/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>管理git生成的多个ssh key</title>
      <link>https://48474.com/post/git_more_ssh_keygen/</link>
      <pubDate>Thu, 31 Dec 2015 09:24:10 +0800</pubDate>
      
      <guid>https://48474.com/post/git_more_ssh_keygen/</guid>
      <description>

&lt;h4 id=&#34;管理git生成的多个ssh-key&#34;&gt;管理git生成的多个ssh key&lt;/h4&gt;

&lt;h5 id=&#34;问题阐述&#34;&gt;问题阐述&lt;/h5&gt;

&lt;p&gt;当有多个git账号的时候，比如一个github，用于自己进行一些开发活动，再来一个gitlab，一般是公司内部的git。这两者你的邮箱如果不同的话，就会涉及到一个问题，生成第二个git的key的时候会覆盖第一个的key，导致必然有一个用不了。&lt;/p&gt;

&lt;h5 id=&#34;问题解决&#34;&gt;问题解决&lt;/h5&gt;

&lt;p&gt;我们可以在~/.ssh目录下新建一个config文件配置一下，就可以解决问题&lt;/p&gt;

&lt;h5 id=&#34;具体步骤&#34;&gt;具体步骤&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;生成第一个ssh key(这里我用于github，用的gmail邮箱)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ssh-keygen -t rsa -b 4096 -C &amp;quot;your_email@example.com&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;这里不要一路回传，让你选择在哪里选择存放key的时候写个名字，比如 id_rsa_github，之后的两个可以回车。&lt;br&gt;
完成之后我们可以看到~/.ssh目录下多了两个文件。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;id_rsa_github
id_rsa_github.pub
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;生成第二个ssh key（这里我用于gitlab，用的是公司邮箱）&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ssh-keygen -t rsa -b 4096 -C &amp;quot;your_email@example.com&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;还是一样不要一路回车，在第一个对话的时候继续写个名字，比如 id_rsa_gitlab,之后的两个可以回车。&lt;br&gt;
完成之后我们可以看到~/.ssh目录下多了两个文件。（一个公钥一个私钥）&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;id_rsa_gitlab
id_rsa_gitlab.pub
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;打开ssh-agent&lt;/p&gt;

&lt;p&gt;这里如果你用的github官方的bash，ssh-agent -s,&lt;br&gt;
如果是其他的，比如msysgit,eval $(ssh-agent -s)。&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;添加私钥&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ssh-add ~/.ssh/id_rsa_github
ssh-add ~/.ssh/id_rsa_gitlab
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;创建并修改config文件&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;windows&lt;/p&gt;

&lt;p&gt;新建一个txt文本，然后将名字后缀一起改成config即可。&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;linux|unix&lt;/p&gt;

&lt;p&gt;在bash下的话直接touch config 即可。&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;# gitlab
Host git.iboxpay.com
HostName git.int-5262.com  //这里填你们公司的git网址即可
PreferredAuthentications publickey
IdentityFile ~/.ssh/id_rsa_gitlab
User yong.geng

# github
Host github.com
HostName github.com
PreferredAuthentications publickey
IdentityFile ~/.ssh/id_rsa_github
User cnphpbb
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;在github和gitlab上添加公钥即可，这里不再多说。&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;最后一步&lt;code&gt;测试&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ssh -T git@git.int-5262.com
Welcome to GitLab, yong.geng!
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;h5 id=&#34;补充一下&#34;&gt;补充一下&lt;/h5&gt;

&lt;p&gt;如果之前有设置全局用户名和邮箱的话，需要unset一下&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git config --global --unset user.name
git config --global --unset user.email
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;然后在不同的仓库下设置局部的用户名和邮箱
比如在公司的repository下&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git config user.name &amp;quot;yourname&amp;quot;
git config user.email &amp;quot;youremail&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;在自己的github的仓库在执行刚刚的命令一遍即可。&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;这样就可以在不同的仓库，已不同的账号登录。&lt;/strong&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>